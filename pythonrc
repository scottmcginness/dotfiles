# coding: utf-8
import sys
import traceback

try:
    import ipdb as pdb
except ImportError:
    import pdb

def post_mortem(etype, value, tb):
    if not sys.stderr.isatty():
        # Interactive mode, or we donâ€™t have a tty-like device.
        # Thus, call the default hook
        sys.__excepthook__(etype, value, tb)
    else:
        # We are not in interactive mode, so print the exception
        traceback.print_exception(etype, value, tb)
        print

        # Finally, drop into the debugger
        pdb.post_mortem(tb)

sys.excepthook = post_mortem
